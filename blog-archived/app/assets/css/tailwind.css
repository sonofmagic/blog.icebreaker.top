@import 'tailwindcss';
@import '@nuxt/ui';
@plugin '@tailwindcss/typography';

@custom-variant dark (&:where(html[data-theme='dark'] &, html[data-theme='soft-dark'] &));

@layer base {
  html {
    color-scheme: light;
    --gh-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    --gh-font-mono:
      'JetBrains Mono', 'Fira Code', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    --gh-canvas-default: #ffffff;
    --gh-canvas-subtle: #f6f8fa;
    --gh-canvas-inset: #fefefe;
    --gh-fg-default: #1f2328;
    --gh-fg-muted: #656d76;
    --gh-fg-subtle: #7d8590;
    --gh-accent-fg: #0969da;
    --gh-accent-emphasis: #1f6feb;
    --gh-accent-subtle: #ddf4ff;
    --gh-border-default: #d0d7de;
    --gh-border-muted: #d8dee4;
    --gh-shadow-card: 0 1px 0 rgba(27, 31, 36, 0.04), 0 1px 3px rgba(27, 31, 36, 0.15);
    --gh-shadow-card-hover: 0 8px 24px rgba(140, 149, 159, 0.2);
    --gh-code-bg: #f6f8fa;
    --gh-code-border: #d0d7de;
    --gh-code-inline-bg: rgba(9, 105, 218, 0.1);
    --gh-code-inline-border: rgba(9, 105, 218, 0.2);

    --ui-bg: var(--gh-canvas-subtle);
    --ui-bg-elevated: var(--gh-canvas-default);
    --ui-bg-soft: var(--gh-canvas-inset);
    --ui-border: var(--gh-border-default);
    --ui-border-strong: var(--gh-border-muted);
    --ui-text: var(--gh-fg-default);
    --ui-text-muted: var(--gh-fg-muted);
    --ui-text-subtle: var(--gh-fg-subtle);
    --ui-primary: var(--gh-accent-emphasis);
    --ui-primary-soft: var(--gh-accent-subtle);
    --ui-card: var(--gh-canvas-default);
    --ui-card-border: var(--gh-border-default);
    --ui-card-shadow: var(--gh-shadow-card);
  }

  html[data-theme='soft-dark'],
  html[data-theme='dark'] {
    color-scheme: dark;
    --gh-canvas-default: #22272e;
    --gh-canvas-subtle: #1c2128;
    --gh-canvas-inset: #2d333b;
    --gh-fg-default: #adbac7;
    --gh-fg-muted: #909dab;
    --gh-fg-subtle: #7a8898;
    --gh-accent-fg: #539bf5;
    --gh-accent-emphasis: #4184e4;
    --gh-accent-subtle: rgba(65, 132, 228, 0.2);
    --gh-border-default: #373e47;
    --gh-border-muted: #30363d;
    --gh-shadow-card: 0 1px 0 rgba(1, 4, 9, 0.2), 0 1px 3px rgba(1, 4, 9, 0.3);
    --gh-shadow-card-hover: 0 12px 48px rgba(1, 4, 9, 0.35);
    --gh-code-bg: #1b1f24;
    --gh-code-border: #30363d;
    --gh-code-inline-bg: rgba(65, 132, 228, 0.12);
    --gh-code-inline-border: rgba(65, 132, 228, 0.25);

    --ui-bg: var(--gh-canvas-subtle);
    --ui-bg-elevated: var(--gh-canvas-default);
    --ui-bg-soft: rgba(118, 127, 140, 0.08);
    --ui-border: var(--gh-border-default);
    --ui-border-strong: var(--gh-border-muted);
    --ui-text: var(--gh-fg-default);
    --ui-text-muted: var(--gh-fg-muted);
    --ui-text-subtle: var(--gh-fg-subtle);
    --ui-primary: var(--gh-accent-emphasis);
    --ui-primary-soft: rgba(65, 132, 228, 0.2);
    --ui-card: var(--gh-canvas-default);
    --ui-card-border: var(--gh-border-default);
    --ui-card-shadow: var(--gh-shadow-card);
  }

  body {
    font-family: var(--gh-font-sans);
    background-color: var(--gh-canvas-subtle);
    color: var(--gh-fg-default);
    transition:
      background-color 0.3s ease,
      color 0.3s ease;
  }

  ::selection {
    background-color: var(--gh-accent-subtle);
    color: var(--gh-accent-emphasis);
  }
}

@layer components {
  .prose {
    color: var(--gh-fg-default);
    max-width: 65ch;
  }
}
